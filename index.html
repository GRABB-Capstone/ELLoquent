
<!DOCTYPE html>
<html ng-app="submitExample">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.string/2.3.3/underscore.string.min.js"></script>
		<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/path.js/0.8.4/path.min.js"></script>		
		<script src="//www.parsecdn.com/js/parse-1.2.19.min.js"></script>		
		<script src="//cdn.rawgit.com/Artod/baascms/master/dist/baascms-1.0.0.min.js"></script>
		<script src="//cdn.rawgit.com/Artod/baascms/master/dist/baascms-adapter-parse-1.0.0.min.js"></script>
    		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular.min.js"></script>
    		
    		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    		
    		<script>
			Parse.initialize('X2OtQJt6k4BF3mxtqJxWajyPnhEu9Pmu1PznyJXs', 'MGkTXABPz325R7WrXH2WkFRR1JVtrwPZJDUYPYD7');
			
			BaasCMS.init({
				baas: 'Parse'
			});
			
			
		</script>
		
		
		
		
		
<script>
  
  angular.module('submitExample', [])
    .controller('ExampleController', ['$scope', function($scope) {
      $scope.list = [];
      $scope.books =["one","two"];
/*	var Book = Parse.Object.extend("Book");
	var query = new Parse.Query(Book);
	query.find({
  	success: function(results) {
		$scope.books = results;
		$scope.fixedBooks = [];
		for (var i = 0; i < results.length; i++) {
			$scope.fixedBooks.push({title:results[i].get("title"),author:results[i].get("author"),grade:results[i].get("grade")});
			
			
		}
  	},
  	error: function(error) {
		alert("Error: " + error.code + " " + error.message);
	}
	});*/
  
      $scope.data;
      $scope.selectedBook;
      $scope.fixedBooks = [];
      $scope.leader=false;
      $scope.name;
      $scope.grade;
      $scope.user;
      $scope.friends = [];
      $scope.key = function(){
      $scope.leader = true;
      }
      $scope.show = function(){

	var Book = Parse.Object.extend("Book");
	var query = new Parse.Query(Book);
	query.find({
  	success: function(results) {
		$scope.books = results;
		$scope.fixedBooks = [];
		for (var i = 0; i < results.length; i++) {
			$scope.fixedBooks.push({title:results[i].get("title"),author:results[i].get("author"),grade:results[i].get("grade")});
			
		}
  	},
  	error: function(error) {
		alert("Error: " + error.code + " " + error.message);
	}
	});
      }
      $scope.addWord = function(){
		var Book= Parse.Object.extend("Book");
		var query = new Parse.Query(Book);
		query.equalTo("title", $scope.selectedBook);
		query.find({
  		success: function(results) {
  			alert("size" + results.length);

			
			
  		},
  		error: function(error) {
			alert("Error: " + error.code + " " + error.message);
		}
		});
	}
      
      $scope.submit = function() {
      	
      	var Book= Parse.Object.extend("Book");
      	var acl= new Parse.ACL();
	var book= new Book();
	var user= new Parse.User();
	book.set("title",$scope.name);
	book.set("author",$scope.author);
	book.set("grade", $scope.grade);
	user.setUsername("username", $scope.user);
	acl.setPublicReadAccess(false);
	acl.setPublicWriteAccess(false);
	//acl.setReadAccess(user, true);
	//acl.setWriteAccess(user, true);
	book.setACL(acl);
	book.save();
	$scope.fixedBooks.push({title:$scope.name,author:$scope.author,grade:$scope.grade});


	};
	$scope.trouble = function(){
		alert("hi");
	}
	
    }]);
       
       
// and fire it after definition

</script>



</head>



<body>




<div ng-controller="ExampleController" data-ng-init="show()">

<div class="container">
<div class="jumbotron">
  <h1 class="text-center"> Elloquent </h2>
</div>	
</div>

<div class="container">
	
      <h3>Book Title:</h3>
      <input class="form-control"  type="text"  placeholder="Example: Harry Potter" ng-model="name" name="name2" />
      <h3>Author:</h3>
      <input class="form-control"  type="text"  placeholder="Example: J.K. Rowling" ng-model="author" />
      <h3>Grade Level:</h3>
      <input class="form-control"  type="text"  placeholder="Example: Grade 4" ng-model="grade"/>
      <h3>Username:</h3>
      <input class="form-control"  type="text"  placeholder="Example: bronan" ng-model="user"/>

      <p></p>
      <input class="btn btn-primary btn-block" type="submit" id="submit" value="Submit" ng-click="submit()" ng-disabled="!name"/>
      

	<input class="btn btn-primary btn-block form-control" type="submit" id="remove" value="Remove Books" ng-click="showme=false" ng-show = "showme"/>
        <input class="btn btn-primary btn-block form-control" type="submit" id="key" value="Show Books" ng-click="showme=true" ng-hide = "showme"/>
</div >


  
  
<div class="container">
	<div class="drowndown">
	<label for="repeatSelect"> Choose Book: </label>
    	<select ng-model="selectedBook" ng-options="book.title for book in fixedBooks"></select>
	</div>
</div>
   	 
 
  <div class="container"  ng-show="showme">
  <table class="table table-hover">
    <tr>
      <th>Title</th>
      <th>Author</th>
    </tr>
    <tr ng-repeat="book in fixedBooks">
      <td>{{book.title}}</td>
      <td>John Carabou</td>
    </tr>
  </table>
</div>

<div class = "container">
	<h3>Add Word:</h3>
      <input class="form-control"  type="text"  placeholder="Example: Technology" ng-model="word"/>
            <input class="btn btn-primary btn-block" type="submit" id="addWord" value="Add Word" ng-click="addWord()" ng-disabled="!word"/>

</div>

</div>







</body>
</html>
